Лабораторная работа №2. Ручное построение нисходящих синтаксических анализаторов

Задание: 

Логические формулы в стиле Си

Логические формулы. Используются операции &, |, ^, !. Приоритет операций стандартный. Скобки могут использоваться для изменения
приоритета.
В качестве операндов выступают переменные с именем из одной буквы. Используйте один терминал для всех переменных. Для каждой логической операции должен быть заведен один терминал.
Пример: (!a | b) & a & (a | !(b ^ c))

1. Разработка грамматики

S -> S or A | A

A -> A xor B | B

B -> B and C | C

C -> not C | D

D -> var | (S)

В грамматике есть левая рекурсия. Устраним ее. Получится грамматика:

S1 -> A1 S2

S2 -> or A1 S2 | eps

A1 -> B1 A2

A2 -> xor B1 A2 | eps

B1 -> C B2

B2 -> and C B2 | eps

C -> not C | D

D -> var | (S1)

2. Построение лексического анализатора

3. Построение синтаксического анализатора

Построим множества FIRST и FOLLOW для нетерминалов нашей грамматики

First:

S1:	!, var, (

S2:	|, ε

A1:	!, var, (

A2:	^, ε

B1:	!, var, (

B2:	&, ε

C: 	!, var, (

D: 	var, (

Follow:

S1:	-|, )

S2:	-|, )

A1:	|, -|, )

A2:	|, -|, )

B1:	^, |, -|, )

B2:	^, |, -|, )

C:	&, ^, |, -|, )

D:	&, ^, |, -|, )


4. Визуализация дерева разборов

5. Подготовка набора тестов

Корректные:

(a & b) | ! (c ^ (a | ! b))

a

!a

a | b

a & c

(x)

p ^ q

q & (a ^ b) | ! a & ! (a | b | (d & c))

Ошибка лексического анализатора:

asdf & cv -- переменные не однобуквенные

a + b -- некорректный символ в выражении

Ошибка синтаксического анализатора:

((a & s))) -- лишняя закрывающаяся скобка

((a) -- лишняя открывающаяся скобка

(a &) b -- неправильная расстановка скобок

a & ^ c -- пропущена переменная

a b -- пропущен операнд межу переменными

(a&b) (a&c) -- пропущен операнд между двумя выражениями


